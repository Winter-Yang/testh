(function(e){function n(n){for(var t,i,a=n[0],s=n[1],l=n[2],u=0,f=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);d&&d(n);while(f.length)f.shift()();return c.push.apply(c,l||[]),o()}function o(){for(var e,n=0;n<c.length;n++){for(var o=c[n],t=!0,a=1;a<o.length;a++){var s=o[a];0!==r[s]&&(t=!1)}t&&(c.splice(n--,1),e=i(i.s=o[0]))}return e}var t={},r={websocket:0},c=[];function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,n,o){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)i.d(o,t,function(n){return e[n]}.bind(null,t));return o},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=n,a=a.slice();for(var l=0;l<a.length;l++)n(a[l]);var d=s;c.push([4,"chunk-vendors"]),o()})({"30a4":function(e,n,o){},4:function(e,n,o){e.exports=o("a567")},5820:function(e,n,o){"use strict";o("7c43")},"7c43":function(e,n,o){},a567:function(e,n,o){"use strict";o.r(n);var t=o("7a23");function r(e,n,o,r,c,i){const a=Object(t["resolveComponent"])("YYWebsocket");return Object(t["openBlock"])(),Object(t["createBlock"])(a)}const c=e=>(Object(t["pushScopeId"])("data-v-4e240f88"),e=e(),Object(t["popScopeId"])(),e),i={class:"body_context"},a=c(()=>Object(t["createElementVNode"])("p",{class:"msg_context"}," aaa ",-1));function s(e,n,o,r,c,s){return Object(t["openBlock"])(),Object(t["createElementBlock"])("div",i,[Object(t["createElementVNode"])("button",{onClick:n[0]||(n[0]=(...e)=>s.hy_createSocket&&s.hy_createSocket(...e))},"开启Socket"),Object(t["createElementVNode"])("button",{onClick:n[1]||(n[1]=(...e)=>s.hy_closeSocket&&s.hy_closeSocket(...e))},"关闭Socket"),Object(t["createElementVNode"])("button",{onClick:n[2]||(n[2]=(...e)=>s.hy_sendWSPush&&s.hy_sendWSPush(...e))},"发送消息给NA"),Object(t["createElementVNode"])("button",{onClick:n[3]||(n[3]=(...e)=>s.hy_getWSPush&&s.hy_getWSPush(...e))},"接收NA消息"),a])}var l=o("d870"),d=o("b741");const u=e=>{const n=e&&e.detail.data;console.log(n)};window.addEventListener("onmessageWS",u);var f={name:"YYWebsocket",methods:{hy_createSocket(){window.addEventListener("onmessageWS",u);var e="ws://10.250.39.116:8080";Object(l["a"])(e),setTimeout(()=>{document.getElementsByClassName("msg_context").innerHTML="创建socket 连接",Object(d["a"])("opensocket",{url:e})},3e3)},hy_closeSocket(){var e="ws://10.250.39.116:8080";Object(d["a"])("closesocket",{url:e}),window.removeEventListener("onmessageWS",u)},hy_sendWSPush(){let e='{"name":"hybrid", "version":"1.4.0"}';Object(l["b"])(e)},hy_getWSPush(){Object(d["a"])("sendMsgToJs",{})}},beforeUnmount(){this.hy_closeSocket()}},p=(o("f5cb"),o("6b0d")),b=o.n(p);const g=b()(f,[["render",s],["__scopeId","data-v-4e240f88"]]);var h=g,_={name:"Websocket",components:{YYWebsocket:h}};o("5820");const k=b()(_,[["render",r]]);var w=k,O=o("3a34");new O,Object(t["createApp"])(w).mount("#websocket")},b741:function(e,n,o){"use strict";o.d(n,"a",(function(){return _}));const t=navigator.userAgent;console.log("当前UA(全小写): "+t.toLowerCase());const r="iphone",c="android",i="ipad",a={android:-1!=t.toLowerCase().indexOf(c)||-1!=t.toLowerCase().indexOf("adr"),iPhone:-1!=t.toLowerCase().indexOf(r),iPad:-1!=t.toLowerCase().indexOf(i),Windows:-1!=t.toLowerCase().indexOf("safari")},s={isInApp:function(){return!!(a.android||a.iPhone||a.iPad)},isAndroid:function(){return a.android},isiPone:function(){return a.iPhone},isiPad:function(){return a.iPhone},isWindows:function(){return a.Windows}};let l=window;l.__jsBridge={callBackPool:{},ack_no:1},window.getOpenWindowClassName=function(){return{className_ios:"ZYBBaseWebViewController"}},l.__jsBridge.invoke=function(e,n,o){var t={action:e,businessData:"ZYBHybirdViewController"};if(n&&(t.param=n),o){var r="cbk"+l.__jsBridge.ack_no++;t.callbackKey=r,l.__jsBridge.callBackPool[r]=o}let c=l.__jsBridge.param(t),i=s.isInApp();i?console.log("App 内应用"):console.log("浏览器 内应用"),l.ZYBJSBridge?(console.log("发送消息AAA:"+c),l.ZYBJSBridge.postMessage(c)):i?s.isWindows()?console.log("谷歌开发者模式iPhone应用"):(console.log("发送消息:"+c),l.webkit.messageHandlers.ZYBJSBridge.postMessage(c)):console.log("不在App内")},l.__jsBridge.callback=function(e){var n=e.callbackKey,o=l.__jsBridge.callBackPool[n],t=e.data;"function"==typeof o&&(delete e.callBackKey,o(t),delete l.__jsBridge.callBackPool.callBackKey)},l.__jsBridge.param=function(e){let n=JSON.stringify(e),o=n||"";return o};const d=navigator.userAgent.toLocaleLowerCase(),u="iphone",f="ipad",p="android",b="windows",g={android:d.indexOf(p)>-1||d.indexOf("adr")>-1,iPhone:d.indexOf(u)>-1,iPad:d.indexOf(f)>-1,windows:d.indexOf(b)>-1};var h={isAndroid:function(){return g.android},isiPhone:function(){return g.iPhone}};function _(e,n,o){let t=10;t<4.2||(n&&"[object Function]"==Object.prototype.toString.call(n)&&(alert("aaaaa"),o=n,n={}),h.isiPhone&&l.__jsBridge.invoke(e,n,o))}},f5cb:function(e,n,o){"use strict";o("30a4")}});
//# sourceMappingURL=websocket.9b3be61b.js.map